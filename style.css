:root {
			--bg-dark: #0b0b0d;
			--border-gray: #333;
			--border-light: #666;
			--accent-cyan: hsl(180,100%,50%);
			--accent-red: hsl(0,100%,50%);
			--white: white;
			--font-lg: 1.5rem;
			--font-md: 1rem;
			--spacing: 1rem;
			--spacing-half: 0.5rem;
			--border-width: 2px;
		}
		@font-face { font-family: 'PerfectDOS'; src: url('./PerfectDosVga.ttf') format('truetype'); }
		* { font-family: 'PerfectDOS', monospace; margin: 0; padding: 0; box-sizing: border-box; }
		html, body { height: 100%; overflow: hidden; background: var(--bg-dark); color: var(--white); }
		body { border: 1px solid var(--accent-cyan); }
		.login-overlay { position: fixed; inset: 0; background: rgba(11,11,13,0.85); display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 20px; z-index: 100; }
		.login-overlay h1 { color: var(--accent-cyan); font-size: 3rem; margin-bottom: var(--spacing); }
		.enter-btn { background: var(--accent-cyan); color: var(--bg-dark); padding: 16px 48px; border: none; font-size: var(--font-lg); cursor: pointer; }
		#chat-app { display: flex; flex-direction: column; height: 100dvh; overflow: hidden; }
		#header-area { border-bottom: var(--border-width) solid var(--border-gray); display: grid; grid-template-columns: repeat(4, 1fr); padding: 0.25rem var(--spacing-half); align-items: center; gap: 0.25rem; overflow: hidden; }
		#radio-bar { border-bottom: var(--border-width) solid var(--border-gray); display: flex; align-items: center; padding: var(--spacing-half); background: var(--bg-dark); overflow: hidden; }
		#radio-display { color: var(--accent-cyan); font-size: var(--font-md); white-space: nowrap; animation: marquee 15s linear infinite; }
		@keyframes marquee { 0% { transform: translateX(100%); } 100% { transform: translateX(-100%); } }
		#radio-mute-btn { background: var(--border-gray); color: var(--white); border: none; padding: 2px 8px; font-size: var(--font-md); cursor: pointer; white-space: nowrap; -webkit-appearance: none; appearance: none; margin-left: auto; flex-shrink: 0; }
		#radio-mute-btn:hover { opacity: 0.8; }
		#header-area input { background: var(--bg-dark); color: var(--white); border: var(--border-width) solid var(--border-light); padding: 2px 4px; font-size: var(--font-md); outline: none; overflow: hidden; width: 100%; min-width: 0; cursor: pointer; -webkit-appearance: none; appearance: none; }
		#header-area select { background: var(--border-gray); color: var(--accent-cyan); border: none; padding: 2px 4px; font-size: var(--font-md); outline: none; overflow: hidden; width: 100%; min-width: 0; cursor: pointer; -webkit-appearance: none; appearance: none; }
		#header-area button { background: var(--border-gray); color: var(--white); border: none; padding: 2px 4px; font-size: var(--font-md); outline: none; width: 100%; cursor: pointer; white-space: nowrap; -webkit-appearance: none; appearance: none; }
		#header-area select option { background: var(--bg-dark); }
		#sound-theme-select { grid-column: 1; }
		#animations-select { grid-column: 2; }
		#update-btn, #logoutBtn { grid-column: 4; }
		#update-btn:hover, #logoutBtn:hover { opacity: 0.8; }
		#header-area #logoutBtn { color: var(--accent-red); }
		#messages { flex: 1; padding: var(--spacing); overflow-y: scroll; overflow-x: hidden; min-height: 0; -webkit-overflow-scrolling: touch; }
		#messages::-webkit-scrollbar { width: 1ch; }
		#messages::-webkit-scrollbar-track { background: var(--bg-dark); }
		#messages::-webkit-scrollbar-thumb { background: var(--accent-cyan); }
		#messages-wrapper { display: flex; flex-direction: column; min-height: min-content; }
		.message { position: relative; font-size: var(--font-lg); padding: var(--spacing-half) var(--spacing); margin: 0.6rem 0; max-width: 95%; align-self: flex-end; background: var(--bg-dark); border: var(--border-width) solid; transition: transform 0.1s; }
		.message.youtube { max-width: 80%; }
		.message iframe { width: 100%; aspect-ratio: 16/9; border: none; display: block; margin-top: var(--spacing-half); }
		.message .name, .message .time, .system-message .time { position: absolute; background: var(--bg-dark); }
		.message .name { top: -0.6em; left: .6em; font-size: var(--font-lg); }
		.message .time, .system-message .time { bottom: -0.6em; right: .6em; font-size: var(--font-lg); transform: scaleY(0.6); }
		.system-message { align-self: flex-start; font-size: var(--font-lg); color: var(--white); background: transparent; border: 1px dashed var(--border-light); padding: var(--spacing-half) var(--spacing); margin: 0.6rem 0; max-width: 95%; position: relative; }
		.system-message:hover { transform: none; }
		.system-message .time { color: var(--border-light); }
		#input-area { border-top: var(--border-width) solid var(--border-gray); display: flex; }
		#input-area input { flex: 1; padding: var(--spacing); font-size: var(--font-lg); background: var(--bg-dark); color: hsl(var(--user-color, 180),100%,50%); border: none; outline: none; min-width: 0; }
		#send-btn { padding: var(--spacing) 1.5rem; font-size: var(--font-lg); background: var(--border-gray); color: var(--white); border: none; border-left: var(--border-width) solid var(--border-gray); cursor: pointer; flex-shrink: 0; }
		.modal { position: fixed; inset: 0; display: flex; align-items: center; justify-content: center; z-index: 2000; background: rgba(11,11,13,0.85); }
		.modal-content { border: var(--border-width) solid var(--white); padding: 2rem; min-width: 300px; max-width: 500px; width: 90%; max-height: 80vh; overflow-y: auto; }
		.modal-header { display: flex; justify-content: space-between; }
		.modal input, .modal textarea { width: 100%; background: #222; color: var(--white); border: var(--border-width) solid var(--border-light); padding: 12px; font-size: 16px; outline: none; margin: 10px 0; }
		.modal button { padding: 12px; border: none; cursor: pointer; width: 100%; font-size: 16px; margin-top: 10px; }
		.error { color: #f00; }
		.style-section { margin-block: 1.5rem; }
		.style-label { color: var(--white); font-size: var(--font-md); margin-bottom: 0.8rem; display: block; }
		.color-grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 6px; margin-bottom: var(--spacing); }
		.color-option, .border-option { cursor: pointer; }
		.color-option { aspect-ratio: 1; width: 100%; height: 100%; }
		.color-option.selected, .border-option.selected { border-color: var(--white); box-shadow: 0 0 8px rgba(255,255,255,1); }
		.border-options { display: flex; gap: 8px; }
		.border-option { flex: 1; padding: 8px; background: transparent; text-align: center; font-size: var(--font-md); }
	